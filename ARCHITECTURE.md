# ğŸ—ï¸ Architecture & Data Flow Diagrams

## ğŸ“Š System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER'S BROWSER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚              REACT FRONTEND                       â”‚  â”‚
â”‚  â”‚         (http://localhost:3000)                   â”‚  â”‚
â”‚  â”‚                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”‚
â”‚  â”‚  â”‚   Pages      â”‚  â”‚  Components â”‚               â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚  â”‚
â”‚  â”‚  â”‚ Landing      â”‚  â”‚ Protected   â”‚               â”‚  â”‚
â”‚  â”‚  â”‚ Auth         â”‚  â”‚ Route       â”‚               â”‚  â”‚
â”‚  â”‚  â”‚ Pricing      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
â”‚  â”‚  â”‚ Dashboard    â”‚                                 â”‚  â”‚
â”‚  â”‚  â”‚ Admin        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   Utils     â”‚               â”‚  â”‚
â”‚  â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ AuthContext â”‚               â”‚  â”‚
â”‚  â”‚  â”‚   Services   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                 â”‚  â”‚
â”‚  â”‚  â”‚  api.js      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚  â”‚  â”‚  (Axios)     â”‚                       â”‚         â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚         â”‚  â”‚
â”‚  â”‚         â”‚                                â”‚         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                â”‚            â”‚
â”‚            â”‚ HTTP Requests                  â”‚            â”‚
â”‚            â”‚ (REST API)                     â”‚            â”‚
â”‚            â–¼                                â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚            â”‚
â”‚  â”‚    localStorage            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ - JWT Token                â”‚                         â”‚
â”‚  â”‚ - User Data                â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ API Calls
                       â”‚ (with JWT Token)
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SPRING BOOT BACKEND                         â”‚
â”‚            (http://localhost:8080)                       â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              REST Controllers                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ /api/auth/*           - Authentication           â”‚   â”‚
â”‚  â”‚ /api/subscription/*   - Subscriptions            â”‚   â”‚
â”‚  â”‚ /api/admin/*          - Admin Operations         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                  â”‚
â”‚                       â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Services Layer                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                       â”‚                                  â”‚
â”‚                       â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Database (MySQL/PostgreSQL)          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ - Users Table                                     â”‚   â”‚
â”‚  â”‚ - Subscriptions Table                             â”‚   â”‚
â”‚  â”‚ - Plans Table                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ User Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User    â”‚                                      â”‚ Backend â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                                                â”‚
     â”‚ 1. Navigate to /login                         â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                                                â”‚
     â”‚ 2. Fill email & password                      â”‚
     â”‚    Click "Sign In"                            â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚    POST /api/auth/login                       â”‚
     â”‚    { email, password }                        â”‚
     â”‚                                                â”‚
     â”‚                                                â”‚ 3. Validate
     â”‚                                                â”‚    credentials
     â”‚                                                â”‚
     â”‚ 4. Return JWT token & user data               â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚    { token: "eyJ...", user: {...} }           â”‚
     â”‚                                                â”‚
     â”‚ 5. Store token in localStorage                â”‚
     â”‚    Store user in AuthContext                  â”‚
     â”‚                                                â”‚
     â”‚ 6. Redirect to /dashboard                     â”‚
     â”‚                                                â”‚
     â”‚ 7. Request user subscription                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚    GET /api/subscription/user                 â”‚
     â”‚    Headers: Authorization: Bearer eyJ...      â”‚
     â”‚                                                â”‚
     â”‚                                                â”‚ 8. Verify token
     â”‚                                                â”‚    Fetch data
     â”‚                                                â”‚
     â”‚ 9. Return subscription data                   â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚    { planName, status, expiryDate, ... }      â”‚
     â”‚                                                â”‚
     â”‚ 10. Display dashboard                         â”‚
     â”‚                                                â”‚
```

---

## ğŸ¯ Subscription Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User    â”‚                                      â”‚ Backend â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                                                â”‚
     â”‚ 1. Visit /pricing                             â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚    GET /api/subscription/plans                â”‚
     â”‚                                                â”‚
     â”‚ 2. Return all available plans                 â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚    [{ id:1, name:"FREE", price:0 }, ...]      â”‚
     â”‚                                                â”‚
     â”‚ 3. Display pricing cards                      â”‚
     â”‚                                                â”‚
     â”‚ 4. User clicks "Subscribe" on BASIC plan      â”‚
     â”‚                                                â”‚
     â”‚ 5. Check if authenticated                     â”‚
     â”‚    (If not, redirect to /login)               â”‚
     â”‚                                                â”‚
     â”‚ 6. Send subscription request                  â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚    POST /api/subscription/subscribe           â”‚
     â”‚    Headers: Authorization: Bearer eyJ...      â”‚
     â”‚    Body: { planId: 2 }                        â”‚
     â”‚                                                â”‚
     â”‚                                                â”‚ 7. Verify token
     â”‚                                                â”‚    Create subscription
     â”‚                                                â”‚    Set expiry date
     â”‚                                                â”‚
     â”‚ 8. Return success                             â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚    { message: "Subscribed successfully" }     â”‚
     â”‚                                                â”‚
     â”‚ 9. Show success message                       â”‚
     â”‚    Redirect to /dashboard                     â”‚
     â”‚                                                â”‚
```

---

## ğŸ›¡ï¸ Protected Route Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User    â”‚                    â”‚ React Router â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                â”‚
     â”‚ 1. Navigate to /dashboard     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                                â”‚
     â”‚                                â”‚ 2. Check route
     â”‚                                â”‚    Is protected?
     â”‚                                â”‚
     â”‚                                â”‚ 3. Call ProtectedRoute
     â”‚                                â”‚    component
     â”‚                                â”‚
     â”‚                                â–¼
     â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    â”‚ ProtectedRoute     â”‚
     â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚                    â”‚ Check:             â”‚
     â”‚                    â”‚ - isAuthenticated? â”‚
     â”‚                    â”‚ - has token?       â”‚
     â”‚                    â”‚ - correct role?    â”‚
     â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                    â”‚ Is Authenticated?  â”‚
     â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                             â”‚
     â”‚                    YES â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€ NO
     â”‚                             â”‚        â”‚
     â”‚                             â”‚        â”‚ Redirect to
     â”‚                             â”‚        â”‚ /login
     â”‚                             â”‚        â”‚
     â”‚                             â”‚        â–¼
     â”‚                      Render Dashboard
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚
```

---

## ğŸ”‘ API Request Flow with JWT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚              â”‚   Axios   â”‚              â”‚ Backend  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                            â”‚                         â”‚
       â”‚ 1. User action             â”‚                         â”‚
       â”‚    (e.g., get subscription)â”‚                         â”‚
       â”‚                            â”‚                         â”‚
       â”‚ 2. Call API function       â”‚                         â”‚
       â”‚    subscriptionAPI         â”‚                         â”‚
       â”‚    .getUserSubscription()  â”‚                         â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                         â”‚
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚ 3. Interceptor          â”‚
       â”‚                            â”‚    Get token from       â”‚
       â”‚                            â”‚    localStorage         â”‚
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚ 4. Add Authorization    â”‚
       â”‚                            â”‚    header               â”‚
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚ 5. Send HTTP request    â”‚
       â”‚                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
       â”‚                            â”‚ GET /api/subscription   â”‚
       â”‚                            â”‚ Authorization:          â”‚
       â”‚                            â”‚   Bearer eyJ...         â”‚
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚                         â”‚ 6. Verify
       â”‚                            â”‚                         â”‚    JWT
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚                         â”‚ 7. Fetch
       â”‚                            â”‚                         â”‚    data
       â”‚                            â”‚                         â”‚
       â”‚                            â”‚ 8. Return response      â”‚
       â”‚                            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                            â”‚ { planName, status }    â”‚
       â”‚                            â”‚                         â”‚
       â”‚ 9. Return promise          â”‚                         â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
       â”‚                            â”‚                         â”‚
       â”‚ 10. Update UI              â”‚                         â”‚
       â”‚                            â”‚                         â”‚
```

---

## ğŸ¨ Component Hierarchy

```
App.js (AuthProvider wraps everything)
â”‚
â”œâ”€â”€ Router
â”‚   â”‚
â”‚   â”œâ”€â”€ Public Routes
â”‚   â”‚   â”œâ”€â”€ / â†’ LandingPage
â”‚   â”‚   â”œâ”€â”€ /login â†’ AuthPage (Login/Register)
â”‚   â”‚   â””â”€â”€ /pricing â†’ PricingPage
â”‚   â”‚
â”‚   â””â”€â”€ Protected Routes (ProtectedRoute wrapper)
â”‚       â”œâ”€â”€ /dashboard â†’ Dashboard (User only)
â”‚       â””â”€â”€ /admin â†’ AdminDashboard (Admin only)
â”‚
â””â”€â”€ AuthContext provides:
    â”œâ”€â”€ user (current user data)
    â”œâ”€â”€ isAuthenticated (boolean)
    â”œâ”€â”€ login() function
    â”œâ”€â”€ register() function
    â””â”€â”€ logout() function
```

---

## ğŸ“¦ Data Flow: Context API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AuthProvider (Top Level)          â”‚
â”‚                                                â”‚
â”‚  State:                                        â”‚
â”‚  - user: { id, name, email, role }            â”‚
â”‚  - loading: boolean                            â”‚
â”‚                                                â”‚
â”‚  Functions:                                    â”‚
â”‚  - login(email, password)                      â”‚
â”‚  - register(userData)                          â”‚
â”‚  - logout()                                    â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Provides via Context
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                        â”‚
        â–¼                        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Dashboard â”‚            â”‚ AuthPage â”‚
  â”‚Component â”‚            â”‚Component â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                        â”‚
        â”‚ useAuth()              â”‚ useAuth()
        â–¼                        â–¼
  Access user,             Access login(),
  logout()                 register()
```

---

## ğŸ” Security Flow

```
1. User Registration
   â†“
2. Backend hashes password & creates user
   â†“
3. User Login
   â†“
4. Backend validates & generates JWT
   â†“
5. Frontend stores JWT in localStorage
   â†“
6. Every API request includes JWT in Authorization header
   â†“
7. Backend validates JWT on each request
   â†“
8. If valid â†’ Process request
   If invalid â†’ Return 401 Unauthorized
   â†“
9. Frontend handles 401 â†’ Redirect to login
```

---

## ğŸ“± Page Navigation Flow

```
Landing Page (/)
     â”‚
     â”œâ”€â”€â”€ "Get Started" â”€â”€â”€â”€â–º Pricing Page (/pricing)
     â”‚                              â”‚
     â”‚                              â”‚ "Subscribe" (not logged in)
     â”‚                              â”‚
     â”œâ”€â”€â”€ "Sign In" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â–º Auth Page (/login)
     â”‚                       â”‚                â”‚
     â”‚                       â”‚                â”‚ After login/register
     â”‚                       â”‚                â–¼
     â”‚                       â”‚         User Dashboard (/dashboard)
     â”‚                       â”‚                â”‚
     â”‚                       â”‚                â”‚ "Upgrade Plan"
     â”‚                       â”‚                â”‚
     â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â–º Back to Pricing
     â”‚
     â””â”€â”€â”€ Admin login â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Admin Dashboard (/admin)
                                                        â”‚
                                                        â”‚ "User View"
                                                        â–¼
                                                  User Dashboard
```

---

## ğŸ’¾ State Management Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Frontend State                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Global State (Context API):                    â”‚
â”‚  âœ“ User authentication                          â”‚
â”‚  âœ“ User profile data                            â”‚
â”‚  âœ“ Login status                                 â”‚
â”‚                                                  â”‚
â”‚  Component State (useState):                    â”‚
â”‚  âœ“ Form inputs                                  â”‚
â”‚  âœ“ Loading states                               â”‚
â”‚  âœ“ Error messages                               â”‚
â”‚  âœ“ Subscription data                            â”‚
â”‚  âœ“ Plans list                                   â”‚
â”‚                                                  â”‚
â”‚  Browser Storage (localStorage):                â”‚
â”‚  âœ“ JWT Token                                    â”‚
â”‚  âœ“ User data (for persistence)                  â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture provides:
âœ… Clear separation of concerns
âœ… Secure authentication
âœ… Scalable structure
âœ… Easy to maintain
âœ… Production-ready
